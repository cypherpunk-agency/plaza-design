{
  "_format": "hh-sol-artifact-1",
  "contractName": "Voting",
  "sourceName": "contracts/posts/Voting.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_userRegistry",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "AlreadyVoted",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidVoteType",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NotVoted",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ProfileRequired",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "entityId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "voter",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "int256",
          "name": "newScore",
          "type": "int256"
        }
      ],
      "name": "VoteRemoved",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "entityId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "voter",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "enum Voting.VoteType",
          "name": "voteType",
          "type": "uint8"
        },
        {
          "indexed": false,
          "internalType": "int256",
          "name": "newScore",
          "type": "int256"
        }
      ],
      "name": "Voted",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "contractAddress",
          "type": "address"
        },
        {
          "internalType": "uint8",
          "name": "entityType",
          "type": "uint8"
        },
        {
          "internalType": "uint256",
          "name": "entityIndex",
          "type": "uint256"
        }
      ],
      "name": "getEntityId",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "entityId",
          "type": "bytes32"
        }
      ],
      "name": "getScore",
      "outputs": [
        {
          "internalType": "int256",
          "name": "",
          "type": "int256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "entityId",
          "type": "bytes32"
        }
      ],
      "name": "getTally",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "upvotes",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "downvotes",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "entityId",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getUserVote",
      "outputs": [
        {
          "internalType": "enum Voting.VoteType",
          "name": "",
          "type": "uint8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "entityId",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "hasVoted",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "entityId",
          "type": "bytes32"
        }
      ],
      "name": "removeVote",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "tallies",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "upvotes",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "downvotes",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "userRegistry",
      "outputs": [
        {
          "internalType": "contract UserRegistry",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "userVotes",
      "outputs": [
        {
          "internalType": "enum Voting.VoteType",
          "name": "",
          "type": "uint8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "entityId",
          "type": "bytes32"
        },
        {
          "internalType": "enum Voting.VoteType",
          "name": "voteType",
          "type": "uint8"
        }
      ],
      "name": "vote",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x60a060405234801561001057600080fd5b50604051610b30380380610b3083398101604081905261002f91610040565b6001600160a01b0316608052610070565b60006020828403121561005257600080fd5b81516001600160a01b038116811461006957600080fd5b9392505050565b608051610a896100a76000396000818161012601528181610397015281816104680152818161058601526107740152610a896000f3fe608060405234801561001057600080fd5b506004361061009e5760003560e01c80637ba53285116100665780637ba53285146101d8578063805eba37146101eb57806382b2fa7e1461020b578063aadc3b7214610239578063c9a28cb91461025c57600080fd5b806323da3991146100a357806324a48361146100e5578063346bec3a146100fa5780635c7460d6146101215780635f40ce0414610160575b600080fd5b6100cb6100b1366004610875565b600090815260208190526040902080546001909101549091565b604080519283526020830191909152015b60405180910390f35b6100f86100f3366004610875565b61026f565b005b6100cb610108366004610875565b6000602081905290815260409020805460019091015482565b6101487f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b0390911681526020016100dc565b6101ca61016e3660046108a6565b6040516bffffffffffffffffffffffff19606085901b1660208201526001600160f81b031960f884901b166034820152603581018290526000906055016040516020818303038152906040528051906020012090509392505050565b6040519081526020016100dc565b6101ca6101e6366004610875565b61034d565b6101fe6101f93660046108ed565b610373565b6040516100dc9190610955565b6101fe6102193660046108ed565b600160209081526000928352604080842090915290825290205460ff1681565b61024c6102473660046108ed565b610444565b60405190151581526020016100dc565b6100f861026a366004610963565b610527565b600061027a33610750565b60008381526001602090815260408083206001600160a01b038516845290915281205491925060ff909116908160028111156102b8576102b861091d565b036102d65760405163f8d49bcd60e01b815260040160405180910390fd5b6102e18383836107fd565b60008381526001602090815260408083206001600160a01b0386168085529252909120805460ff19169055837f5bc1ddc2c367ee06950af23f0d9c2ee3a52e42fa582e714178a6fe01aa559bc26103378261034d565b60405190815260200160405180910390a3505050565b60008181526020819052604081206001810154815461036c91906109a2565b9392505050565b60405163031615b560e21b81526001600160a01b03828116600483015260009182917f00000000000000000000000000000000000000000000000000000000000000001690630c5856d490602401602060405180830381865afa1580156103de573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061040291906109c9565b90506001600160a01b0381166104155750815b60008481526001602090815260408083206001600160a01b039094168352929052205460ff1690505b92915050565b60405163031615b560e21b81526001600160a01b03828116600483015260009182917f00000000000000000000000000000000000000000000000000000000000000001690630c5856d490602401602060405180830381865afa1580156104af573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104d391906109c9565b90506001600160a01b0381166104e65750815b60008481526001602090815260408083206001600160a01b038516845290915281205460ff16600281111561051d5761051d61091d565b1415949350505050565b600081600281111561053b5761053b61091d565b0361055957604051638eed55d160e01b815260040160405180910390fd5b600061056433610750565b60405163a787c80b60e01b81526001600160a01b0380831660048301529192507f00000000000000000000000000000000000000000000000000000000000000009091169063a787c80b90602401602060405180830381865afa1580156105cf573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105f391906109e6565b6106105760405163640f9e7160e11b815260040160405180910390fd5b60008381526001602090815260408083206001600160a01b038516845290915281205460ff16908160028111156106495761064961091d565b14610659576106598483836107fd565b600183600281111561066d5761066d61091d565b0361069657600084815260208190526040812080549161068c83610a08565b91905055506106b9565b60008481526020819052604081206001018054916106b383610a08565b91905055505b60008481526001602081815260408084206001600160a01b03871685529091529091208054859260ff19909116908360028111156106f9576106f961091d565b0217905550816001600160a01b0316847f8833581b92b257201b81782facfbc521d86d0183c9b546b40cbdf9c2ce34a1d4856107348861034d565b604051610742929190610a21565b60405180910390a350505050565b60405163031615b560e21b81526001600160a01b03828116600483015260009182917f00000000000000000000000000000000000000000000000000000000000000001690630c5856d490602401602060405180830381865afa1580156107bb573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107df91906109c9565b90506001600160a01b038116156107f65792915050565b5090919050565b60018160028111156108115761081161091d565b0361083a57600083815260208190526040812080549161083083610a3c565b9190505550505050565b600281600281111561084e5761084e61091d565b0361087057600083815260208190526040812060010180549161083083610a3c565b505050565b60006020828403121561088757600080fd5b5035919050565b6001600160a01b03811681146108a357600080fd5b50565b6000806000606084860312156108bb57600080fd5b83356108c68161088e565b9250602084013560ff811681146108dc57600080fd5b929592945050506040919091013590565b6000806040838503121561090057600080fd5b8235915060208301356109128161088e565b809150509250929050565b634e487b7160e01b600052602160045260246000fd5b6003811061095157634e487b7160e01b600052602160045260246000fd5b9052565b6020810161043e8284610933565b6000806040838503121561097657600080fd5b8235915060208301356003811061091257600080fd5b634e487b7160e01b600052601160045260246000fd5b81810360008312801583831316838312821617156109c2576109c261098c565b5092915050565b6000602082840312156109db57600080fd5b815161036c8161088e565b6000602082840312156109f857600080fd5b8151801515811461036c57600080fd5b600060018201610a1a57610a1a61098c565b5060010190565b60408101610a2f8285610933565b8260208301529392505050565b600081610a4b57610a4b61098c565b50600019019056fea26469706673582212207390ad3eab1b81b5e17d74e5ed70465ac33ee7a4356460c51260eb348f07016b64736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b506004361061009e5760003560e01c80637ba53285116100665780637ba53285146101d8578063805eba37146101eb57806382b2fa7e1461020b578063aadc3b7214610239578063c9a28cb91461025c57600080fd5b806323da3991146100a357806324a48361146100e5578063346bec3a146100fa5780635c7460d6146101215780635f40ce0414610160575b600080fd5b6100cb6100b1366004610875565b600090815260208190526040902080546001909101549091565b604080519283526020830191909152015b60405180910390f35b6100f86100f3366004610875565b61026f565b005b6100cb610108366004610875565b6000602081905290815260409020805460019091015482565b6101487f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b0390911681526020016100dc565b6101ca61016e3660046108a6565b6040516bffffffffffffffffffffffff19606085901b1660208201526001600160f81b031960f884901b166034820152603581018290526000906055016040516020818303038152906040528051906020012090509392505050565b6040519081526020016100dc565b6101ca6101e6366004610875565b61034d565b6101fe6101f93660046108ed565b610373565b6040516100dc9190610955565b6101fe6102193660046108ed565b600160209081526000928352604080842090915290825290205460ff1681565b61024c6102473660046108ed565b610444565b60405190151581526020016100dc565b6100f861026a366004610963565b610527565b600061027a33610750565b60008381526001602090815260408083206001600160a01b038516845290915281205491925060ff909116908160028111156102b8576102b861091d565b036102d65760405163f8d49bcd60e01b815260040160405180910390fd5b6102e18383836107fd565b60008381526001602090815260408083206001600160a01b0386168085529252909120805460ff19169055837f5bc1ddc2c367ee06950af23f0d9c2ee3a52e42fa582e714178a6fe01aa559bc26103378261034d565b60405190815260200160405180910390a3505050565b60008181526020819052604081206001810154815461036c91906109a2565b9392505050565b60405163031615b560e21b81526001600160a01b03828116600483015260009182917f00000000000000000000000000000000000000000000000000000000000000001690630c5856d490602401602060405180830381865afa1580156103de573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061040291906109c9565b90506001600160a01b0381166104155750815b60008481526001602090815260408083206001600160a01b039094168352929052205460ff1690505b92915050565b60405163031615b560e21b81526001600160a01b03828116600483015260009182917f00000000000000000000000000000000000000000000000000000000000000001690630c5856d490602401602060405180830381865afa1580156104af573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104d391906109c9565b90506001600160a01b0381166104e65750815b60008481526001602090815260408083206001600160a01b038516845290915281205460ff16600281111561051d5761051d61091d565b1415949350505050565b600081600281111561053b5761053b61091d565b0361055957604051638eed55d160e01b815260040160405180910390fd5b600061056433610750565b60405163a787c80b60e01b81526001600160a01b0380831660048301529192507f00000000000000000000000000000000000000000000000000000000000000009091169063a787c80b90602401602060405180830381865afa1580156105cf573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105f391906109e6565b6106105760405163640f9e7160e11b815260040160405180910390fd5b60008381526001602090815260408083206001600160a01b038516845290915281205460ff16908160028111156106495761064961091d565b14610659576106598483836107fd565b600183600281111561066d5761066d61091d565b0361069657600084815260208190526040812080549161068c83610a08565b91905055506106b9565b60008481526020819052604081206001018054916106b383610a08565b91905055505b60008481526001602081815260408084206001600160a01b03871685529091529091208054859260ff19909116908360028111156106f9576106f961091d565b0217905550816001600160a01b0316847f8833581b92b257201b81782facfbc521d86d0183c9b546b40cbdf9c2ce34a1d4856107348861034d565b604051610742929190610a21565b60405180910390a350505050565b60405163031615b560e21b81526001600160a01b03828116600483015260009182917f00000000000000000000000000000000000000000000000000000000000000001690630c5856d490602401602060405180830381865afa1580156107bb573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107df91906109c9565b90506001600160a01b038116156107f65792915050565b5090919050565b60018160028111156108115761081161091d565b0361083a57600083815260208190526040812080549161083083610a3c565b9190505550505050565b600281600281111561084e5761084e61091d565b0361087057600083815260208190526040812060010180549161083083610a3c565b505050565b60006020828403121561088757600080fd5b5035919050565b6001600160a01b03811681146108a357600080fd5b50565b6000806000606084860312156108bb57600080fd5b83356108c68161088e565b9250602084013560ff811681146108dc57600080fd5b929592945050506040919091013590565b6000806040838503121561090057600080fd5b8235915060208301356109128161088e565b809150509250929050565b634e487b7160e01b600052602160045260246000fd5b6003811061095157634e487b7160e01b600052602160045260246000fd5b9052565b6020810161043e8284610933565b6000806040838503121561097657600080fd5b8235915060208301356003811061091257600080fd5b634e487b7160e01b600052601160045260246000fd5b81810360008312801583831316838312821617156109c2576109c261098c565b5092915050565b6000602082840312156109db57600080fd5b815161036c8161088e565b6000602082840312156109f857600080fd5b8151801515811461036c57600080fd5b600060018201610a1a57610a1a61098c565b5060010190565b60408101610a2f8285610933565b8260208301529392505050565b600081610a4b57610a4b61098c565b50600019019056fea26469706673582212207390ad3eab1b81b5e17d74e5ed70465ac33ee7a4356460c51260eb348f07016b64736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
